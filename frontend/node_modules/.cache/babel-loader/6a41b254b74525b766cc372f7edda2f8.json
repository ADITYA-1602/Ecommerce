{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\SE PROJECT\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\SE PROJECT\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\SE PROJECT\\\\frontend\\\\src\\\\component\\\\Admin\\\\NewProduct.js\";\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport \"./newProduct.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clearErrors, createProduct } from \"../../actions/productAction\";\nimport { useAlert } from \"react-alert\";\nimport { Button } from \"@material-ui/core\";\nimport MetaData from \"../layout/MetaData\";\nimport AccountTreeIcon from \"@material-ui/icons/AccountTree\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport SpellcheckIcon from \"@material-ui/icons/Spellcheck\";\nimport AttachMoneyIcon from \"@material-ui/icons/AttachMoney\";\nimport SideBar from \"./Sidebar\";\nimport { NEW_PRODUCT_RESET } from \"../../constants/productConstants\";\n\nvar NewProduct = function NewProduct(_ref) {\n  var history = _ref.history;\n  var dispatch = useDispatch();\n  var alert = useAlert();\n\n  var _useSelector = useSelector(function (state) {\n    return state.newProduct;\n  }),\n      loading = _useSelector.loading,\n      error = _useSelector.error,\n      success = _useSelector.success;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      price = _useState4[0],\n      setPrice = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      description = _useState6[0],\n      setDescription = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      category = _useState8[0],\n      setCategory = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      Stock = _useState10[0],\n      setStock = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      images = _useState12[0],\n      setImages = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      imagesPreview = _useState14[0],\n      setImagesPreview = _useState14[1];\n\n  var categories = [\"Laptop\", \"Footwear\", \"Bottom\", \"Tops\", \"Attire\", \"Camera\", \"SmartPhones\"];\n  useEffect(function () {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (success) {\n      alert.success(\"Product Created Successfully\");\n      history.push(\"/admin/dashboard\");\n      dispatch({\n        type: NEW_PRODUCT_RESET\n      });\n    }\n  }, [dispatch, alert, error, history, success]);\n\n  var createProductSubmitHandler = function createProductSubmitHandler(e) {\n    e.preventDefault();\n    var myForm = new FormData();\n    myForm.set(\"name\", name);\n    myForm.set(\"price\", price);\n    myForm.set(\"description\", description);\n    myForm.set(\"category\", category);\n    myForm.set(\"Stock\", Stock);\n    images.forEach(function (image) {\n      myForm.append(\"images\", image);\n    });\n    dispatch(createProduct(myForm));\n  };\n\n  var createProductImagesChange = function createProductImagesChange(e) {\n    var files = Array.from(e.target.files);\n    setImages([]);\n    setImagesPreview([]);\n    files.forEach(function (file) {\n      var reader = new FileReader();\n\n      reader.onload = function () {\n        if (reader.readyState === 2) {\n          setImagesPreview(function (old) {\n            return [].concat(_toConsumableArray(old), [reader.result]);\n          });\n          setImages(function (old) {\n            return [].concat(_toConsumableArray(old), [reader.result]);\n          });\n        }\n      };\n\n      reader.readAsDataURL(file);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MetaData, {\n    title: \"Create Product\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SideBar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newProductContainer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"createProductForm\",\n    encType: \"multipart/form-data\",\n    onSubmit: createProductSubmitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"Create Product\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SpellcheckIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Product Name\",\n    required: true,\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AttachMoneyIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    placeholder: \"Price\",\n    required: true,\n    onChange: function onChange(e) {\n      return setPrice(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DescriptionIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    placeholder: \"Product Description\",\n    value: description,\n    onChange: function onChange(e) {\n      return setDescription(e.target.value);\n    },\n    cols: \"30\",\n    rows: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AccountTreeIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: function onChange(e) {\n      return setCategory(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, \"Choose Category\"), categories.map(function (cate) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: cate,\n      value: cate,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }\n    }, cate);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(StorageIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    placeholder: \"Stock\",\n    required: true,\n    onChange: function onChange(e) {\n      return setStock(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"createProductFormFile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"avatar\",\n    accept: \"image/*\",\n    onChange: createProductImagesChange,\n    multiple: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"createProductFormImage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, imagesPreview.map(function (image, index) {\n    return /*#__PURE__*/React.createElement(\"img\", {\n      key: index,\n      src: image,\n      alt: \"Product Preview\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    });\n  })), /*#__PURE__*/React.createElement(Button, {\n    id: \"createProductBtn\",\n    type: \"submit\",\n    disabled: loading ? true : false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }, \"Create\")))));\n};\n\nexport default NewProduct;","map":{"version":3,"sources":["C:/Users/hp/OneDrive/Desktop/SE PROJECT/frontend/src/component/Admin/NewProduct.js"],"names":["React","Fragment","useEffect","useState","useSelector","useDispatch","clearErrors","createProduct","useAlert","Button","MetaData","AccountTreeIcon","DescriptionIcon","StorageIcon","SpellcheckIcon","AttachMoneyIcon","SideBar","NEW_PRODUCT_RESET","NewProduct","history","dispatch","alert","state","newProduct","loading","error","success","name","setName","price","setPrice","description","setDescription","category","setCategory","Stock","setStock","images","setImages","imagesPreview","setImagesPreview","categories","push","type","createProductSubmitHandler","e","preventDefault","myForm","FormData","set","forEach","image","append","createProductImagesChange","files","Array","from","target","file","reader","FileReader","onload","readyState","old","result","readAsDataURL","value","map","cate","index"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport \"./newProduct.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clearErrors, createProduct } from \"../../actions/productAction\";\nimport { useAlert } from \"react-alert\";\nimport { Button } from \"@material-ui/core\";\nimport MetaData from \"../layout/MetaData\";\nimport AccountTreeIcon from \"@material-ui/icons/AccountTree\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport SpellcheckIcon from \"@material-ui/icons/Spellcheck\";\nimport AttachMoneyIcon from \"@material-ui/icons/AttachMoney\";\nimport SideBar from \"./Sidebar\";\nimport { NEW_PRODUCT_RESET } from \"../../constants/productConstants\";\n\nconst NewProduct = ({ history }) => {\n  const dispatch = useDispatch();\n  const alert = useAlert();\n\n  const { loading, error, success } = useSelector((state) => state.newProduct);\n\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(0);\n  const [description, setDescription] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [Stock, setStock] = useState(0);\n  const [images, setImages] = useState([]);\n  const [imagesPreview, setImagesPreview] = useState([]);\n\n  const categories = [\n    \"Laptop\",\n    \"Footwear\",\n    \"Bottom\",\n    \"Tops\",\n    \"Attire\",\n    \"Camera\",\n    \"SmartPhones\",\n  ];\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (success) {\n      alert.success(\"Product Created Successfully\");\n      history.push(\"/admin/dashboard\");\n      dispatch({ type: NEW_PRODUCT_RESET });\n    }\n  }, [dispatch, alert, error, history, success]);\n\n  const createProductSubmitHandler = (e) => {\n    e.preventDefault();\n\n    const myForm = new FormData();\n\n    myForm.set(\"name\", name);\n    myForm.set(\"price\", price);\n    myForm.set(\"description\", description);\n    myForm.set(\"category\", category);\n    myForm.set(\"Stock\", Stock);\n\n    images.forEach((image) => {\n      myForm.append(\"images\", image);\n    });\n    dispatch(createProduct(myForm));\n  };\n\n  const createProductImagesChange = (e) => {\n    const files = Array.from(e.target.files);\n\n    setImages([]);\n    setImagesPreview([]);\n\n    files.forEach((file) => {\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        if (reader.readyState === 2) {\n          setImagesPreview((old) => [...old, reader.result]);\n          setImages((old) => [...old, reader.result]);\n        }\n      };\n\n      reader.readAsDataURL(file);\n    });\n  };\n\n  return (\n    <Fragment>\n      <MetaData title=\"Create Product\" />\n      <div className=\"dashboard\">\n        <SideBar />\n        <div className=\"newProductContainer\">\n          <form\n            className=\"createProductForm\"\n            encType=\"multipart/form-data\"\n            onSubmit={createProductSubmitHandler}\n          >\n            <h1>Create Product</h1>\n\n            <div>\n              <SpellcheckIcon />\n              <input\n                type=\"text\"\n                placeholder=\"Product Name\"\n                required\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n            <div>\n              <AttachMoneyIcon />\n              <input\n                type=\"number\"\n                placeholder=\"Price\"\n                required\n                onChange={(e) => setPrice(e.target.value)}\n              />\n            </div>\n\n            <div>\n              <DescriptionIcon />\n\n              <textarea\n                placeholder=\"Product Description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                cols=\"30\"\n                rows=\"1\"\n              ></textarea>\n            </div>\n\n            <div>\n              <AccountTreeIcon />\n              <select onChange={(e) => setCategory(e.target.value)}>\n                <option value=\"\">Choose Category</option>\n                {categories.map((cate) => (\n                  <option key={cate} value={cate}>\n                    {cate}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <StorageIcon />\n              <input\n                type=\"number\"\n                placeholder=\"Stock\"\n                required\n                onChange={(e) => setStock(e.target.value)}\n              />\n            </div>\n\n            <div id=\"createProductFormFile\">\n              <input\n                type=\"file\"\n                name=\"avatar\"\n                accept=\"image/*\"\n                onChange={createProductImagesChange}\n                multiple\n              />\n            </div>\n\n            <div id=\"createProductFormImage\">\n              {imagesPreview.map((image, index) => (\n                <img key={index} src={image} alt=\"Product Preview\" />\n              ))}\n            </div>\n\n            <Button\n              id=\"createProductBtn\"\n              type=\"submit\"\n              disabled={loading ? true : false}\n            >\n              Create\n            </Button>\n          </form>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default NewProduct;\n"]},"metadata":{},"sourceType":"module"}