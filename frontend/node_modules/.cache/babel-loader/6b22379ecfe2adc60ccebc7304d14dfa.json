{"ast":null,"code":"import _objectWithoutProperties from \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\SE PROJECT\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\SE PROJECT\\\\frontend\\\\src\\\\component\\\\Route\\\\ProtectedRoute.js\";\n\nimport React, { Fragment } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Navigate, Route, Routes } from \"react-router-dom\";\n\nvar ProtectedRoute = function ProtectedRoute(_ref) {\n  var isAdmin = _ref.isAdmin,\n      Component = _ref.component,\n      rest = _objectWithoutProperties(_ref, [\"isAdmin\", \"component\"]);\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      loading = _useSelector.loading,\n      isAuthenticated = _useSelector.isAuthenticated,\n      user = _useSelector.user;\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }\n  }, loading === false && /*#__PURE__*/React.createElement(Routes, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: function render(props) {\n      if (isAuthenticated === false) {\n        return /*#__PURE__*/React.createElement(Navigate, {\n          to: \"/login\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 16,\n            columnNumber: 24\n          }\n        });\n      }\n\n      if (isAdmin === true && user.role !== \"admin\") {\n        return /*#__PURE__*/React.createElement(Navigate, {\n          to: \"/login\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 24\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 22\n        }\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default ProtectedRoute;","map":{"version":3,"sources":["C:/Users/hp/OneDrive/Desktop/SE PROJECT/frontend/src/component/Route/ProtectedRoute.js"],"names":["React","Fragment","useSelector","Navigate","Route","Routes","ProtectedRoute","isAdmin","Component","component","rest","state","user","loading","isAuthenticated","props","role"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,QAAT,EAAmBC,KAAnB,EAAyBC,MAAzB,QAAuC,kBAAvC;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAAgD;AAAA,MAA7CC,OAA6C,QAA7CA,OAA6C;AAAA,MAAzBC,SAAyB,QAApCC,SAAoC;AAAA,MAAXC,IAAW;;AAAA,qBAC1BR,WAAW,CAAC,UAACS,KAAD;AAAA,WAAWA,KAAK,CAACC,IAAjB;AAAA,GAAD,CADe;AAAA,MAC7DC,OAD6D,gBAC7DA,OAD6D;AAAA,MACpDC,eADoD,gBACpDA,eADoD;AAAA,MACnCF,IADmC,gBACnCA,IADmC;;AAGrE,sBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,OAAO,KAAK,KAAZ,iBACC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD,oBACMH,IADN;AAEE,IAAA,MAAM,EAAE,gBAACK,KAAD,EAAW;AACjB,UAAID,eAAe,KAAK,KAAxB,EAA+B;AAC7B,4BAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AAED,UAAIP,OAAO,KAAK,IAAZ,IAAoBK,IAAI,CAACI,IAAL,KAAc,OAAtC,EAA+C;AAC7C,4BAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AAED,0BAAO,oBAAC,SAAD,oBAAeD,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD,KAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,CAFJ,CADF;AAsBD,CAzBD;;AA2BA,eAAeT,cAAf","sourcesContent":["import React, { Fragment } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Navigate, Route,Routes } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ isAdmin, component: Component, ...rest }) => {\n  const { loading, isAuthenticated, user } = useSelector((state) => state.user);\n\n  return (\n    <Fragment>\n      {loading === false && (\n        <Routes>\n          <Route\n            {...rest}\n            render={(props) => {\n              if (isAuthenticated === false) {\n                return <Navigate to=\"/login\" />;\n              }\n\n              if (isAdmin === true && user.role !== \"admin\") {\n                return <Navigate to=\"/login\" />;\n              }\n\n              return <Component {...props} />;\n            }}\n          />\n        </Routes>\n      )}\n    </Fragment>\n  );\n};\n\nexport default ProtectedRoute;\n"]},"metadata":{},"sourceType":"module"}